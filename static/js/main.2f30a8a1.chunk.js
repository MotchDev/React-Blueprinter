(this["webpackJsonpreact-blueprinter"]=this["webpackJsonpreact-blueprinter"]||[]).push([[0],[,,,,,,,,,,,,,,,function(e,n,t){},function(e,n,t){},,,,function(e,n,t){},function(e,n,t){},function(e,n,t){},function(e,n,t){},function(e,n,t){"use strict";t.r(n);var c=t(2),i=t.n(c),a=t(10),o=t.n(a),r=(t(15),t(4)),l=t(1),d=t(3),s=(t(16),t(7)),u=t(9),b=[{id:"properties",name:"Properties",default:{name:"newProperty",type:"string"}},{id:"redux",name:"Redux",default:{name:"newUseSelector",type:"string"}},{id:"localState",name:"Local State",default:{name:"newUseState",type:"string"}},{id:"consts",name:"Consts",default:{name:"newConst",type:"string"}},{id:"custom",name:"Custom",default:{name:"",type:"string"}}],j=t(0),m=function(e){var n=e.type,t=e.value,c=e.onChange,i=e.onRemove;function a(e){c({type:e,value:t})}function o(e){c({type:n,value:e})}return Object(j.jsxs)("div",{className:"variable flex",children:[Object(j.jsx)("div",{children:Object(j.jsx)("select",{value:n,onChange:function(e){return a(e.target.value)},children:["boolean","number","string","array","object","collection","function"].map((function(e){return Object(j.jsx)("option",{value:e,children:e},e)}))})}),Object(j.jsx)("div",{className:"flex-fill",children:Object(j.jsx)("input",{type:"text",value:t,onChange:function(e){return o(e.target.value)},placeholder:"variableName"})}),Object(j.jsx)("div",{children:Object(j.jsx)("button",{className:"button",onClick:i,children:"x"})})]})},f=(t(20),function(e){var n=e.variableSet,t=e.isEditing,c=e.onNewVariableClick,i=e.onRemoveVariableSetClick,a=e.onVariableChange,o=e.onRemoveVariableClick,r=n.id,l=n.name,d=n.items;return Object(j.jsxs)("div",{className:"variable-set",children:[Object(j.jsxs)("div",{className:"flex align-center",children:[Object(j.jsx)("h3",{className:"flex-fill",children:l}),Object(j.jsx)("div",{children:t&&Object(j.jsx)("button",{className:"button remove",onClick:function(){return i(n)},children:"x"})})]}),Object(j.jsxs)("div",{children:[d.map((function(e,n){return t?Object(j.jsx)(m,{type:e.type,value:e.value,onChange:function(e){return a(r,n,e)},onRemove:function(){o(r,n)}},n):e.value&&Object(j.jsxs)("div",{className:"variable flex",children:[Object(j.jsx)("div",{className:"variable-type ".concat(e.type),children:e.type}),Object(j.jsx)("div",{className:"variable-value",children:e.value})]})})),t&&Object(j.jsx)("div",{className:"add-variable",children:Object(j.jsxs)("button",{className:"button ",onClick:function(){return c(r)},children:["Add ",l]})})]})]})}),O=(t(21),function(e){var n=e.children,t=e.buttonText,a=e.buttonIcon,o=e.onClose,r=Object(c.useRef)(),l=Object(c.useState)(),s=Object(d.a)(l,2),u=s[0],b=s[1];function m(e){r.current.contains(e.target)||f()}function f(){o&&o(),b(!1)}return Object(c.useEffect)((function(){return u?document.addEventListener("mousedown",m):document.removeEventListener("mousedown",m),function(){document.removeEventListener("mousedown",m)}}),[u]),Object(j.jsxs)("div",{ref:r,className:"dropdown",children:[Object(j.jsxs)("button",{className:"dropdown-button",onClick:function(e){return b(!u)},children:[a&&Object(j.jsx)("img",{src:a,alt:"menu icon"}),t&&t]}),u&&Object(j.jsx)("div",{className:"dropdown-menu",children:function e(n,t){return i.a.Children.map(n,(function(n){return i.a.isValidElement(n)?(n.props.children&&(n=i.a.cloneElement(n,{children:e(n.props.children,t)})),t(n)):n}))}(n,(function(e){return i.a.cloneElement(e,{onClick:function(){return n=e.props.onClick,t=!e.props.keepMenuOpen,n(),void(t&&f());var n,t}})}))})]})}),p=(t(22),t.p+"static/media/kebab.4dcb41e5.svg"),v={type:"string",value:""},h=function(e){var n=e.node,t=e.component,i=e.collapsed,a=e.selected,o=e.children,s=e.onChange,u=e.onAddChildClick,m=e.onDeleteClick,h=Object(c.useState)("default"),x=Object(d.a)(h,2),C=x[0],g=x[1],k=t.id,N=t.name,w=t.variables,I=Boolean(a);function S(e){s(Object(l.a)(Object(l.a)({},t),{},{name:e.replace(/ /g,"")}))}function y(e){var n,c,i=Object(l.a)(Object(l.a)({},v),null===(n=b[e])||void 0===n?void 0:n.default),a=null===(c=w.find((function(n){return n.id===e})))||void 0===c?void 0:c.items;s(Object(l.a)(Object(l.a)({},t),{},{variables:w.map((function(n){return n.id===e?Object(l.a)(Object(l.a)({},n),{},{items:[].concat(Object(r.a)(a),[i])}):n}))}))}function E(e,n){var t=b.findIndex((function(n){return n.id===e.id})),c=b.findIndex((function(e){return e.id===n.id}));return-1===t?1:-1===c?-1:t-c}function R(e,n,c){var i,a=null===(i=w.find((function(n){return n.id===e})))||void 0===i?void 0:i.items;s(Object(l.a)(Object(l.a)({},t),{},{variables:w.map((function(t){return t.id===e?Object(l.a)(Object(l.a)({},t),{},{items:a.map((function(e,t){return n===t?Object(l.a)(Object(l.a)({},e),c):e}))}):t}))}))}function V(e,n){var c,i=null===(c=w.find((function(n){return n.id===e})))||void 0===c?void 0:c.items;s(Object(l.a)(Object(l.a)({},t),{},{variables:w.map((function(t){return t.id===e?Object(l.a)(Object(l.a)({},t),{},{items:i.filter((function(e,t){return t!==n}))}):t}))}))}function A(e){var n=e.id,c=t.variables.filter((function(e){return e.id!==n})).sort(E);s(Object(l.a)(Object(l.a)({},t),{},{variables:c}))}return Object(j.jsxs)("div",{className:"component ".concat(a?"selected":""),"data-id":k,children:[Object(j.jsxs)("div",{className:"flex align-center",children:[Object(j.jsxs)("div",{className:"name",children:[Object(j.jsx)("input",{value:N,type:"text",onChange:function(e){return S(e.target.value)}}),Object(j.jsx)("span",{className:"name-hidden",children:N})]}),Object(j.jsx)("div",{className:"flex-fill"}),Object(j.jsx)("div",{className:"dropdown-container",children:a&&Object(j.jsxs)(O,{buttonIcon:p,onClose:function(){return g("default")},children:["default"===C&&Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("button",{keepMenuOpen:!0,onClick:function(){return g("addVariableSet")},children:"Add Variable Set"}),Object(j.jsx)("button",{onClick:function(){return u(n)},children:"Add Child"},"a"),Object(j.jsx)("button",{onClick:function(){return m(n)},children:"Delete"},"b")]}),"addVariableSet"===C&&Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("button",{keepMenuOpen:!0,onClick:function(){return g("default")},children:"Back"}),b.map((function(e){return function(e){return-1===w.findIndex((function(n){return n.id===e.id}))||"custom"===e.id}(e)&&Object(j.jsx)("button",{onClick:function(){return function(e){var n={id:e.id,name:e.name,items:[]};"custom"===e.id&&(n.name=prompt("Enter your variable set name"),n.id=n.name.toLowerCase().replace(/ /g,"-"));var c=[].concat(Object(r.a)(t.variables),[Object(l.a)({},n)]).sort(E);s(Object(l.a)(Object(l.a)({},t),{},{variables:c}))}(e)},children:e.name},e.id)}))]})]})})]}),!i&&Object(j.jsxs)(j.Fragment,{children:[w.map((function(e){return Object(j.jsx)(f,{isEditing:I,variableSet:e,onNewVariableClick:y,onVariableChange:R,onRemoveVariableClick:V,onRemoveVariableSetClick:A},e.id)})),o]})]})},x=(t(23),function e(n){var t=n.node,i=n.components,a=n.selectedNode,o=n.onComponentChange,r=n.onAddChildClick,l=n.onDeleteClick,d=n.onSelected,s=n.onCollapseClick,u=Object(c.useRef)(null),b=t.id,m=t.componentId,f=t.children,O=t.collapsed,p=i.find((function(e){return e.id===m})),v=b===a;return Object(c.useEffect)((function(){u.current&&(u.current.onclick=function(e){var n,c;v||(null===(n=e.target.closest(".node"))||void 0===n||null===(c=n.dataset)||void 0===c?void 0:c.id)!==String(b)||d(e,t)})}),[v]),Object(j.jsxs)("div",{className:"node",ref:u,"data-id":b,children:[Object(j.jsx)(h,{node:t,component:p,collapsed:t.collapsed,selected:v,onChange:o,onAddChildClick:r,onDeleteClick:l,children:f.length>0&&f.map((function(n){return Object(j.jsx)(e,{node:n,components:i,selectedNode:a,onComponentChange:o,onAddChildClick:r,onDeleteClick:l,onSelected:d,onCollapseClick:s},n.id)}))},t.id),Object(j.jsx)("button",{className:"collapse-button",onClick:function(e){s(t,!O),d(e,null)},children:O?">":"v"})]})}),C={id:1,name:"NewComponent",variables:[]},g={id:1,componentId:1,collapsed:!1,children:[]};var k=function(){var e=Object(c.useState)({components:[Object(l.a)(Object(l.a)({},C),{},{name:"App"})],tree:[Object(l.a)({},g)],componentIdIncrementer:2,nodeIdIncrementer:2}),n=Object(d.a)(e,2),t=n[0],i=n[1],a=Object(c.useState)(null),o=Object(d.a)(a,2),b=o[0],m=o[1];console.log(t);var f=new URLSearchParams(window.location.search).get("data");Object(c.useEffect)((function(){E(f)}),[f]),Object(c.useEffect)((function(){window.onpopstate=function(e){E(f)},window.document.addEventListener("click",(function(e){window.document.contains(e.target)&&!e.target.closest(".component")&&m(null)}))}),[]);var O=t.components,p=t.tree,v=t.componentIdIncrementer,h=t.nodeIdIncrementer;function k(e){i(e);var n=u.a.crush(JSON.stringify(e)),t=new URL(window.location);t.searchParams.set("data",n),window.history.pushState({},"",t)}function N(e){var n=Object(l.a)({},t),c=n.components.findIndex((function(n){return n.id===e.id}));n.components[c]=Object(l.a)({},e),k(n)}function w(e){var n=Object(l.a)(Object(l.a)({},C),{},{id:v}),c=Object(s.cloneDeep)(t.tree),i=S(e.id,c);i&&(i.children.push(Object(l.a)(Object(l.a)({},g),{},{componentId:n.id,id:h})),k({components:[].concat(Object(r.a)(O),[n]),tree:c,componentIdIncrementer:v+1,nodeIdIncrementer:h+1}))}function I(e){var n=Object(s.cloneDeep)(t.tree),c=n.reduce((function(n,t){return n||y(t,e.id)}),null);if(c)c.children=c.children.filter((function(n){return n.id!==e.id}));else{var i=n.findIndex((function(n){return n.id===e.id}));n.splice(i,1)}k(Object(l.a)(Object(l.a)({},t),{},{tree:n}))}function S(e,n){for(var t,c=0;c<n.length;c++){var i=n[c];if(i.componentId===e)return i;if(i.children.length>0&&(t=S(e,i.children)))return t}return t}function y(e,n){for(var t,c=e.children,i=0;i<c.length;i++){var a=c[i];if(a.componentId===n)return e;if(a.children.length>0&&(t=y(a,n)))return t}return t}function E(e){if(e){var n=u.a.uncrush(e);try{var t=JSON.parse(n);i(t)}catch(c){console.log(c)}}}function R(e,n){m(null===n||void 0===n?void 0:n.id)}function V(e,n){var c=Object(s.cloneDeep)(t.tree);S(e.id,c).collapsed=n,k(Object(l.a)(Object(l.a)({},t),{},{tree:c}))}return Object(j.jsxs)("div",{className:"App",children:[Object(j.jsx)("header",{className:"App-header",children:"React Blueprinter"}),Object(j.jsx)("div",{className:"tree",children:p.map((function(e){return Object(j.jsx)(x,{node:e,components:O,selectedNode:b,onComponentChange:N,onAddChildClick:w,onDeleteClick:I,onSelected:R,onCollapseClick:V},e.id)}))}),Object(j.jsx)("div",{className:"new-component",children:Object(j.jsx)("button",{className:"button",onClick:function(){var e=Object(l.a)(Object(l.a)({},C),{},{id:v}),n=Object(l.a)(Object(l.a)({},g),{},{componentId:e.id,id:h});k(Object(l.a)(Object(l.a)({},t),{},{components:[].concat(Object(r.a)(O),[e]),tree:[].concat(Object(r.a)(p),[n]),componentIdIncrementer:v+1,nodeIdIncrementer:h+1}))},children:"New Component"})})]})},N=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,25)).then((function(n){var t=n.getCLS,c=n.getFID,i=n.getFCP,a=n.getLCP,o=n.getTTFB;t(e),c(e),i(e),a(e),o(e)}))};o.a.render(Object(j.jsx)(i.a.StrictMode,{children:Object(j.jsx)(k,{})}),document.getElementById("root")),N()}],[[24,1,2]]]);
//# sourceMappingURL=main.2f30a8a1.chunk.js.map